<nav class="navUser">
    {{> components/common/currency-selector}}

    <ul class="navUser-section">
        <li class="navUser-item">
            <a class="navUser-action" href="{{urls.account.index}}" data-dropdown="shop-dropdown">Shop</a>
            <div class="dropdown-menu navigation-dropdown-menu" id="shop-dropdown" data-dropdown-content aria-hidden="true">
                <ul class="navigation-grid">
                    {{#each categories}}
                        {{#if children}}
                            <li class="navigation-grid-col">
                                <ul>
                                    <li style="font-weight:bold;">{{name}}</li>
                                    {{#each children}}
                                        <li>{{name}}</li>
                                    {{/each}}
                                </ul>
                            </li>
                        {{/if}}
                    {{/each}}
                    <li class="navigation-grid-col">
                        <ul>
                            {{#each categories}}
                                {{#unless children}}
                                    <li style="font-weight:bold;">{{name}}</li>
                                {{/unless}}
                            {{/each}}
                        </ul>
                    </li>
                </ul>
            </div>
        </li>
        {{#each pages}}
            <li class="navUser-item">
                <a class="navUser-action" href="{{url}}"{{#if children}} data-dropdown="{{id}}-dropdown"{{/if}}>{{name}}</a>
                {{#if children}}
                <div class="dropdown-menu" id="{{id}}-dropdown" data-dropdown-content aria-hidden="true">
                    <ul>
                        {{#each children}}
                            <li><a href="{{url}}">{{name}}</a></li>
                        {{/each}}
                    </ul>
                </div>
                {{/if}}
            </li>
        {{/each}}
    </ul>

    <ul class="navUser-section navUser-section--alt">
        {{#if customer.store_credit.value '>' 0}}
            <li class="navUser-item">
                <a class="navUser-action navUser-action--storeCredit"
                   data-dropdown="storeCredit-dropdown"
                   data-options="align:bottom"
                   href="{{urls.cart}}">
                        <span class="navUser-action-divider">{{lang 'common.store_credit_overview' credit=customer.store_credit.formatted}}</span>
                </a>
                <div class="dropdown-menu" id="storeCredit-dropdown" data-dropdown-content aria-hidden="true">
                    {{{lang 'common.store_credit' store_credit=customer.store_credit.formatted}}}
                </div>
            </li>
        {{/if}}
        <li class="navUser-item">
            <a class="navUser-action navUser-item--compare" href="{{urls.compare}}" data-compare-nav>{{lang 'common.compare'}} <span class="countPill countPill--positive countPill--alt"></span></a>
        </li>
        <li class="navUser-item">
            <a class="navUser-action navUser-action--quickSearch" href="#" data-search="quickSearch" aria-controls="quickSearch" aria-expanded="false">{{lang 'common.search'}}</a>
        </li>
        {{#if settings.gift_certificates_enabled}}
            <li class="navUser-item">
                <a class="navUser-action" href="{{urls.gift_certificate.purchase}}">{{lang 'common.gift_cert'}}</a>
            </li>
        {{/if}}
        {{#if settings.account_creation_enabled}}
            <li class="navUser-item navUser-item--account">
                {{#if customer}}
                    <a class="navUser-action" href="{{urls.account.index}}">{{lang 'common.account'}}</a>
                    <a class="navUser-action" href="{{urls.auth.logout}}">{{lang 'common.logout'}}</a>
                {{else}}
                    <a class="navUser-action" href="{{urls.auth.login}}">{{lang 'common.login'}}</a> <span class="navUser-or">{{lang 'common.or'}}</span> <a class="navUser-action" href="{{urls.auth.create_account}}">{{lang 'common.sign_up'}}</a>
                {{/if}}
            </li>
        {{/if}}
        <li class="navUser-item navUser-item--cart">
            <a
                class="navUser-action"
                data-cart-preview
                data-dropdown="cart-preview-dropdown"
                data-options="align:right"
                href="{{urls.cart}}">
                <span class="navUser-item-cartLabel">{{lang 'common.cart'}}</span> <span class="countPill{{#if cart.items}} countPill--positive{{/if}} cart-quantity">{{cart.quantity}}</span>
            </a>

            <div class="dropdown-menu" id="cart-preview-dropdown" data-dropdown-content aria-hidden="true"></div>
        </li>
    </ul>
    <div class="dropdown dropdown--quickSearch" id="quickSearch" aria-hidden="true" tabindex="-1" data-prevent-quick-search-close>
        {{> components/common/quick-search}}
    </div>
</nav>
