---
product:
    videos:
        limit: {{theme_settings.productpage_videos_count}}
    reviews:
        limit: {{theme_settings.productpage_reviews_count}}
    related_products:
        limit: 10
    similar_by_views:
        limit: {{theme_settings.productpage_similar_by_views_count}}
---
{{inject 'productId' product.id}}

{{#partial "page"}}







    {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

    {{#each product.shipping_messages}}
        {{> components/common/alert/alert-info message}}
    {{/each}}

    <div>
        {{> components/products/product-view}}

        {{{region name="product_below_content"}}}

        {{#if product.videos.list.length}}
            {{> components/products/videos product.videos}}
        {{/if}}

        {{#all settings.show_product_reviews theme_settings.show_product_reviews (if theme_settings.show_product_details_tabs '!==' true)}}
            {{> components/products/reviews reviews=Aproduct.reviews product=product urls=urls}}
        {{/all}}

        {{> components/products/tabs}}
    </div>

    {{> components/products/schema}}

    <style>

        /* BANNER SECTION */
        
        .button-banner{
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        
        
        .h-banner
        {
            text-align: center;margin-bottom: 25px;
        }
        
        
        .row-banner
        {
            display: flex;
            align-items: center;
            text-align: center;background-color: rgb(236, 236, 236);
            border-radius: 10px;margin-top: 30px;
        }
        
        
        .img-banner
        {
            width: auto;
            margin-top:7px ;
        }
        
        
        .col-banner
        {
            border-left: solid black 0.5px;
            border-right: solid black 0.5px;
        }
        
        
        .price-banner
        {
            margin-top: 20px;
        }
        
        /* END BANNER SECTION */
        
        
        /* PRODUCT SECTION */
        .button-product
        {
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        
            
        }
        
        
        .card-product
        {
            border: 2px solid transparent;
            background-color:linear-gradient(#420ede, #af4cb3);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: box-shadow 0.3s ease;  
            height: 360.31px;
        }
        
        
        .card-product
        {
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);text-align: center;
        }
        
        
        .product-name
        {
            font-weight: bold;text-align: left;
        }
        
        .product-price
        {
            text-align: left;
        }

        .product-image-none{

            margin-top: 100px;
        }

        .product-none
        {
            border: solid 2px purple;
        }
     
        .card-product.bundled 
        {
            border-color: rgb(141, 15, 128); /* Change border color when bundled */
        }

        .button-product.remove {
            background-color: #881ca9; /* Change button color when in bundled state */
        }
        
        /* END PRODUCT SECTION */
        
        
        
        
        /* TEXT SECTION */
        
        .text-main
        {
            text-align: center;  background:linear-gradient(to right,#420ede, #af4cb3);
            background-clip: text;
            -webkit-text-fill-color: transparent;font-size: x-large;font-weight: bolder;
        }
        
        .text-local
        {
            text-align: center;font-weight: bold;margin-bottom: 50px;
        }
        
        /* END TEXT SECTION */
        .product-card {
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin: 20px;
        width: 230px;
        height: 400px;
        display: inline-block;
        background-color: #fffefe;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 0.5px solid purple;
        margin-top: 40px;
        text-decoration: none;
    }
    .product-card button{
        background-color: #881ca9;
        color: #fff;
        border-radius: 12px;
        width: 150px;
        height: 50px;
    }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    }

    .product-card h4 {
        font-size: 18px;
        margin-top: 0;
        margin-bottom: 10px;
        font-weight: bold;
        text-align: center;
    }
    .product-card img{
        min-width:100px;
    }

    .product-card p {
        margin: 0;
        font-size: 14px;
        text-align: center;
    }

    .product-card p.price {
        font-weight: bold;
    }
   
    .card-head{
        text-align: center;
    }
    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        border: 1px solid #ccc;
       z-index: 900;
    }
    .close {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
    }


        
        </style>  


<!-- BANNER SECTION START -->

        <div class="row row-banner">
            <div class="small-1 columns col123"><img class="img-banner" src="https://cdn11.bigcommerce.com/s-8mw570y811/images/stencil/900w/products/116/452/best__16337__02178.1684413436.png" alt="">
           </div>
         <div class="small-2 columns"><h4 class="h-banner">522GW</h4></div>
            <div class="small-4 columns col-banner" id="reactContainer">Choose add-ons and services to create your bundle, or say “None.”</div>
            <div class="small-2 columns"><h4 class="price-banner">00.00</h4>
                </div>
            <div class="small-3 columns"><a href="http://localhost:3000/cart.php?action=add&product_id={{id}}"><button class="button-banner">Add to Cart</button></a></div>
        </div>
<!-- BANNER SECTION END -->

    
    <h1 class="text-main">Add a rear-facing camera module for much more protection.</h1>
    <p class="text-local">Only one camera can be used at a time.</p>
    
<!-- CARD SECTION     -->
<div class="row">
    {{#each product.related_products}}
    <div class="small-12 medium-6 large-3 columns">   
    <div class="card card-product">
        <div class="card-sction">
        <h4 class="product-name">{{name}}</h4>
        <p class="product-price">{{price.without_tax.formatted}}</p>
        <a href="{{url}}"><img class="product-image" src="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" alt=""></a>
       <button class="button-product" data-image="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" data-price="{{price.without_tax.formatted}}" onclick="toggleBundle(this) ">Add To Bundle</button></a>
       <button class="button-product left" data-image="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" data-price="{{price.without_tax.formatted}}" onclick="popupcard() " >More</button></a>
    </div>
    </div> 
    </div>
    {{/each}} 



    <div class="small-12 medium-6 large-3 columns">   
        <div class="card card-product product-none " id="bundleCard">
            <div class="card-sction">
                <a href=""><img class="product-image-none" src="https://cdn11.bigcommerce.com/s-o257sk57z9/images/stencil/original/image-manager/nothanks.png?t=1662972940&_gl=1*183hi9z*_ga*MTc3Njg0NTM2NC4xNjQzMDkyMzIw*_ga_WS2VZYPC6G*MTY2Mjk3MjM4Mi40MDUuMS4xNjYyOTcyOTU0LjU4LjAuMA.." alt=""></a>
                <h4>None</h4>

        </div>
        </div> 
        </div>
    </div>



    <!-- product card  -->
     <div>
        <h1 class="card-head" >featuredProducts</h1>
        <div id="productCards"></div>
     </div>

     <div id="popup" class="popup">
     
        <span class="close" onclick="openForm()">X</span>
        <div id="popupContent"></div>
    </div>
    
    <div id="popupCards">
    </div>
    
   
   



<!-----END OF CARD SECTION ---->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
var bundledItems = [];

function toggleBundle(button) {
    var card = button.closest('.card-product');

    if (card.classList.contains('bundled')) {
        card.classList.remove('bundled');
        button.classList.remove('remove');
        $('.col-banner').empty();
        bundledItems = [];
    } else {
    
        bundledItems.forEach(function(item) {
            $('.col-banner').append(`<img src="${item.imageUrl}">`);
        });

        var imageUrl = $(button).data("image");

        card.classList.add('bundled');
        button.textContent = 'Remove';
        button.classList.add('remove');
        $('.col-banner').append('<img src="' + imageUrl + '">');
        bundledItems.push({ imageUrl: imageUrl });
    }
}

document.getElementById('bundleCard').addEventListener('click', function() {
    var bundleItems = document.querySelectorAll('.col-banner');
    bundleItems.forEach(function(item) {
        item.remove();
    });
    bundledItems = []; // Clear bundled items array
});



// new section
fetch('/graphql', {
  method: 'POST',
  credentials: 'same-origin',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer {{ settings.storefront_api.token }}' // use auto-generated token
  },
  body: JSON.stringify({
    query: `query MyQuery {
      site {
        featuredProducts {
          edges {
            node {
                images {
            edges {
              node {
                urlOriginal
              }
            }
          }
              name
              sku
              entityId
              addToCartUrl
              prices {
                basePrice {
                  currencyCode
                  value
                }
              }
            }
          }
        }
      }
    }`
  })
})
.then(res => res.json())
.then(data => {



  const featuredProducts = data.data.site.featuredProducts.edges;
  console.log(featuredProducts)

  const productCardsHTML = featuredProducts.map(product => `
    <div class="row product-card">
        <div class="small-12 medium-6 large-3 columns">   
        <img src="${product.node.images.edges[0].node.urlOriginal}">
        <h4>${product.node.name}</h4>
        <h5>${product.node.sku}</h5>
        <p>${product.node.prices.basePrice.currencyCode} ${product.node.prices.basePrice.value}</p>
        <a href="/cart.php?action=add&product_id=${product.node.entityId}"><button class="btn-1">Add to cart</button></a>
        </div>
    </div>
  `).join('');


  document.getElementById('productCards').innerHTML = productCardsHTML;
})
.catch(error => console.error(error));


const jsContext =JSON.parse({{jsContext}});
console.log('jsondata',jsContext);





// another headache



 


</script>



{{/partial}}
{{> layout/base}}




{{inject "myProductName" product.title}}
