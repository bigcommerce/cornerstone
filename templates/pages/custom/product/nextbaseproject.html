---
product:
    videos:
        limit: {{theme_settings.productpage_videos_count}}
    reviews:
        limit: {{theme_settings.productpage_reviews_count}}
    related_products:
        limit: 10
    similar_by_views:
        limit: {{theme_settings.productpage_similar_by_views_count}}
---
{{inject 'productId' product.id}}

{{#partial "page"}}







    {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

    {{#each product.shipping_messages}}
        {{> components/common/alert/alert-info message}}
    {{/each}}

    <div>
        {{> components/products/product-view}}

        {{{region name="product_below_content"}}}

        {{#if product.videos.list.length}}
            {{> components/products/videos product.videos}}
        {{/if}}

        {{#all settings.show_product_reviews theme_settings.show_product_reviews (if theme_settings.show_product_details_tabs '!==' true)}}
            {{> components/products/reviews reviews=Aproduct.reviews product=product urls=urls}}
        {{/all}}

        {{> components/products/tabs}}
    </div>

    {{> components/products/schema}}

    <style>

        /* BANNER SECTION */
        
        .button-banner{
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        
        
        .h-banner
        {
            text-align: center;margin-bottom: 25px;
        }
        
        
        .row-banner
        {
            display: flex;
            align-items: center;
            text-align: center;background-color: rgb(236, 236, 236);
            border-radius: 10px;margin-top: 30px;
        }
        
        
        .img-banner
        {
            width: auto;
            margin-top:7px ;
        }
        
        
        .col-banner
        {
            border-left: solid black 0.5px;
            border-right: solid black 0.5px;
        }
        
        
        .price-banner
        {
            margin-top: 20px;
        }
        
        /* END BANNER SECTION */
        
        
        /* PRODUCT SECTION */
        .button-product
        {
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        
            
        }
        
        
        .card-product
        {
            border: 2px solid transparent;
            background-color:linear-gradient(#420ede, #af4cb3);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: box-shadow 0.3s ease;  
            height: 360.31px;
        }
        
        
        .card-product
        {
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);text-align: center;
        }
        
        
        .product-name
        {
            font-weight: bold;text-align: left;
        }
        
        .product-price
        {
            text-align: left;
        }

        .product-image-none{

            margin-top: 100px;
        }

        .product-none
        {
            border: solid 2px purple;
        }
     
        .card-product.bundled 
        {
            border-color: rgb(141, 15, 128); /* Change border color when bundled */
        }

        .button-product.remove {
            background-color: #881ca9; /* Change button color when in bundled state */
        }
        
        /* END PRODUCT SECTION */
        
        
        
        
        /* TEXT SECTION */
        
        .text-main
        {
            text-align: center;  background:linear-gradient(to right,#420ede, #af4cb3);
            background-clip: text;
            -webkit-text-fill-color: transparent;font-size: x-large;font-weight: bolder;
        }
        
        .text-local
        {
            text-align: center;font-weight: bold;margin-bottom: 50px;
        }
        
        /* END TEXT SECTION */


        
        </style>  


<!-- BANNER SECTION START -->

        <div class="row row-banner">
            <div class="small-1 columns col123"><img class="img-banner" src="https://cdn11.bigcommerce.com/s-8mw570y811/images/stencil/900w/products/116/452/best__16337__02178.1684413436.png" alt="">
           </div>
         <div class="small-2 columns"><h4 class="h-banner">522GW</h4></div>
            <div class="small-4 columns col-banner" id="reactContainer">Choose add-ons and services to create your bundle, or say “None.”</div>
            <div class="small-2 columns"><h4 class="price-banner">00.00</h4>
                </div>
            <div class="small-3 columns"><a href="/cart.php?action=add&product_id={{id}}"><button class="button-banner">Add to Cart</button></a></div>
        </div>
<!-- BANNER SECTION END -->

    
    <h1 class="text-main">Add a rear-facing camera module for much more protection.</h1>
    <p class="text-local">Only one camera can be used at a time.</p>
    
<!-- CARD SECTION     -->
<div class="row">
    {{#each product.related_products}}
    <div class="small-12 medium-6 large-3 columns">   
    <div class="card card-product">
        <div class="card-sction">
        <h4 class="product-name">{{name}}</h4>
        <p class="product-price">{{price.without_tax.formatted}}</p>
        <a href="{{url}}"><img class="product-image" src="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" alt=""></a>
       <button class="button-product" data-image="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" data-price="{{price.without_tax.formatted}}" onclick="toggleBundle(this) ">Add To Bundle</button></a>
    </div>
    </div> 
    </div>
    {{/each}} 



    <div class="small-12 medium-6 large-3 columns">   
        <div class="card card-product product-none " id="bundleCard">
            <div class="card-sction">
                <a href=""><img class="product-image-none" src="https://cdn11.bigcommerce.com/s-o257sk57z9/images/stencil/original/image-manager/nothanks.png?t=1662972940&_gl=1*183hi9z*_ga*MTc3Njg0NTM2NC4xNjQzMDkyMzIw*_ga_WS2VZYPC6G*MTY2Mjk3MjM4Mi40MDUuMS4xNjYyOTcyOTU0LjU4LjAuMA.." alt=""></a>
                <h4>None</h4>

        </div>
        </div> 
        </div>
    </div>



<!-----END OF CARD SECTION ---->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    function toggleBundle(button) {
    var card = button.closest('.card-product');

    if (card.classList.contains('bundled')) {
        

        console.log("pice",price);

        card.classList.remove('bundled');
        button.textContent = 'Add To Bundle'; 
        button.classList.remove('remove');
    } else {
        var sku = $(button).data("sku");
        var price = $(button).data("price")
        var imageUrl = $(button).data("image");

        card.classList.add('bundled');
        button.textContent = 'Remove';
        button.classList.add('remove');
        $('.col-banner').html(`<div >${sku}</div>`)
        $('.price-banner').html(`<div >${price}</div>`)
        $('.col-banner').html('<img src="' + imageUrl + '">');

    }
}




document.getElementById('bundleCard').addEventListener('click', function() {
        var bundleItems = document.querySelectorAll('col-banner');
        bundleItems.forEach(function(item) {
            item.remove();
        });
    });
</script>



<!-- GRAOHQL -->



<style>

    .product-card {
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin: 10px;
        width: 250px;
        height: 400px;
        display: inline-block;
        background-color: #fdfcfc;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid rgb(84, 11, 84);
        padding: 5px;
        align-items: center;
    }
    
    .imgc{
        min-width:100px;
    }
    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    }

    .product-card h4 {
        font-size: 18px;
        margin-top: 0;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .product-card p {
        margin: 0;
        font-size: 14px;
    }

    .product-card p.price {
        font-weight: bold;
    }
    .btn-q1{
        background: linear-gradient(270deg, #076ff7 1.67%, #c42dba 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            width: 200px;
            justify-content: end;

    }
</style>


<script>
    fetch('/graphql', {
      method: 'POST',
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer {{ settings.storefront_api.token }}' // use auto-generated token
      },
      body: JSON.stringify({
        query: `query newProducts{
    site{
      newestProducts{
        edges{
          node{
            images{
            edges{
              node{
                urlOriginal
              }
            }
          }
            sku
            name
            prices{
              basePrice{
                currencyCode
                value
              }
            }
          }
        }
      }
    }
  }`
      })
    })
    .then(res => res.json())
.then(data => {
  
  const newestProducts = data.data.site.newestProducts.edges;

  const productCardsHTML = newestProducts.map(product => `
  <div class="row product-card">
    <div class="small-12 medium-6 large-3 column">
      <h4>${product.node.name}</h4>
      <img class="imgc" src="${product.node.images.edges[0].node.urlOriginal}"></img>
      <p>${product.node.sku}</p>
      <p>${product.node.prices.basePrice.currencyCode} ${product.node.prices.basePrice.value}</p>
      <a href="/cart.php?action=add&product_id=135"><button class="btn-q1">ADD</button></a>
    </div>
    </div>
  `).join('');

  document.getElementById('productCards').innerHTML = productCardsHTML;
})
.catch(error => console.error(error));


// const jsContext = JSON.parse({{ jsContext }});
// console.log("hyyyyyyy",jsContext);

    </script>

<section>

    <div id="productCards">
        
    </div>
    </section>



{{/partial}}
{{> layout/base}}



{{inject "myProductName" product.title}}