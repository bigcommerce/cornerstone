---
product:
    videos:
        limit: {{theme_settings.productpage_videos_count}}
    reviews:
        limit: {{theme_settings.productpage_reviews_count}}
    related_products:
        limit: 10
    similar_by_views:
        limit: {{theme_settings.productpage_similar_by_views_count}}
---
{{inject 'productId' product.id}}

{{#partial "page"}}







    {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

    {{#each product.shipping_messages}}
        {{> components/common/alert/alert-info message}}
    {{/each}}

    <div>
        {{> components/products/product-view}}

        {{{region name="product_below_content"}}}

        {{#if product.videos.list.length}}
            {{> components/products/videos product.videos}}
        {{/if}}

        {{#all settings.show_product_reviews theme_settings.show_product_reviews (if theme_settings.show_product_details_tabs '!==' true)}}
            {{> components/products/reviews reviews=Aproduct.reviews product=product urls=urls}}
        {{/all}}

        {{> components/products/tabs}}
    </div>

    {{> components/products/schema}}


<!-------------------- css section ------------------------->
    

    <style>
    /*------------ BANNER SECTION ---------------*/
        
        .button-banner{
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        
        
        .h-banner
        {
            text-align: center;margin-bottom: 25px;
        }
        
        
        .row-banner
        {
            display: flex;
            align-items: center;
            text-align: center;background-color: rgb(236, 236, 236);
            border-radius: 10px;margin-top: 30px;
        }
        
        
        .img-banner
        {
            width: auto;
            margin-top:7px ;
        }
        
        
        .col-banner
        {
            border-left: solid black 0.5px;
            border-right: solid black 0.5px;
        }
        
        
        .price-banner
        {
            margin-top: 20px;
        }

        .btn-more{
            background: linear-gradient(270deg, #f2ea10 1.67%, #148cef 96.39%);
            color: rgb(255, 255, 255);
            border-radius: 5px;
            
        }
        
        /* ---------------END BANNER SECTION---------------- */
        
        


        /* ------------------PRODUCT SECTION----------------- */
        .button-product
        {
            background: linear-gradient(270deg, #990AE2 1.67%, #1485EF 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            text-align: center;
            padding: 10px 20px;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        
            
        }
        
        .card-product
        {
            border: 2px solid transparent;
            background-color:linear-gradient(#420ede, #af4cb3);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: box-shadow 0.3s ease;  
            height: 360.31px;
        }
        
        
        .card-product
        {
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);text-align: center;
        }
        
        
        .product-name
        {
            font-weight: bold;text-align: left;
        }
        
        .product-price
        {
            text-align: left;
        }

        .product-image-none{

            margin-top: 100px;
        }

        .product-none
        {
            border: solid 2px purple;
        }
     
        .card-product.bundled 
        {
            border-color: rgb(141, 15, 128);
        }

        .button-product.remove {
            background-color: #881ca9; 
        }
        
        /*-------------- END PRODUCT SECTION------------------ */
        
        
        

        
        /*------------- TEXT SECTION------------------- */
        
        .text-main
        {
            text-align: center;  background:linear-gradient(to right,#420ede, #af4cb3);
            background-clip: text;
            -webkit-text-fill-color: transparent;font-size: x-large;font-weight: bolder;
        }
        
        .text-local
        {
            text-align: center;font-weight: bold;margin-bottom: 50px;
        }
        
        /*--------------- END TEXT SECTION-------------- */




        #popup-window {
            position: fixed;
            width: 300px;
            height: 200px;
            background: white;
            border: 1px solid black;
            padding: 10px;
            margin: auto;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 10;
            display: none;
            }
        </style>  
<!------------------- end of html section ------------------------->





<!---------------------- html section ------------------>

    <!------------------------ BANNER SECTION START ---------------------------->

        <div class="row row-banner">
            <div class="small-1 columns col123"><img class="img-banner" src="https://cdn11.bigcommerce.com/s-8mw570y811/images/stencil/900w/products/116/452/best__16337__02178.1684413436.png" alt="">
           </div>
         <div class="small-2 columns"><h4 class="h-banner">522GW</h4></div>
            <div class="small-4 columns col-banner" id="reactContainer">Choose add-ons and services to create your bundle, or say “None.”</div>
            <div class="small-2 columns"><h4 class="price-banner">EUR 169</h4>
                </div>
            <div class="small-3 columns"><a href="/cart.php?action=add&product_id={{id}}"><button class="button-banner">Add to Cart</button></a></div>
        </div>
    <!--------------------------- BANNER SECTION END ------------------------->



    <!-- text section -->
    <h1 class="text-main">Add a rear-facing camera module for much more protection.</h1>
    <p class="text-local">Only one camera can be used at a time.</p>
    <!-- end of txt section -->




    <!------------------------------ CARD SECTION     -------------------------->
<div class="row">
    {{#each product.related_products}}
    <div class="small-12 medium-6 large-3 columns">   
    <div class="card card-product">
        <div class="card-sction">
        <h4 class="product-name">{{name}}</h4>
        <p class="product-price">{{price.without_tax.formatted}}</p>
        <a href="{{url}}"><img class="product-image" src="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" alt=""></a>
        <!-- popup -->
        <button class="popup-link">More</button>
        <!-- popup end  -->
       <button class="button-product" data-image="{{getImageSrcset image (cdn theme_settings.default_image_product) 1x='128x128' }}" data-price="{{price.without_tax.formatted}}" onclick="toggleBundle(this) ">Add to Bundle</button></a>
    </div>
    </div> 
    </div>
    {{/each}} 


    <!----------------------- NONE CARD -------------------->

    <div class="small-12 medium-6 large-3 columns">   
        <div class="card card-product product-none " id="bundleCard">
            <div class="card-sction">
                <a href=""><img class="product-image-none" src="https://cdn11.bigcommerce.com/s-o257sk57z9/images/stencil/original/image-manager/nothanks.png?t=1662972940&_gl=1*183hi9z*_ga*MTc3Njg0NTM2NC4xNjQzMDkyMzIw*_ga_WS2VZYPC6G*MTY2Mjk3MjM4Mi40MDUuMS4xNjYyOTcyOTU0LjU4LjAuMA.." alt=""></a>
                <h4>None</h4>
        </div>
        </div> 
        </div>
    </div>
    <!--------------------------END OF CARD SECTION ----------------------->


<div id="popup-window">

    <h4 class="product-name">HI</h4>
    <h3></h3>
    <p class="product-price">{{name}}</p>
    <button id="close-button">Close</button>
       
</div> 


<!-------------- end of html section ------------------->





<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    function toggleBundle(button) {
    var card = button.closest('.card-product');

    if (card.classList.contains('bundled')) {
        

        console.log("pice",price);

        card.classList.remove('bundled');
        button.textContent = 'Add To Bundle'; 
        button.classList.remove('remove');

        //  remove from bundle
        resetBanner();

    } else {
        var sku = $(button).data("sku");
        var price = $(button).data("price")
        var imageUrl = $(button).data("image");

        card.classList.add('bundled');
        button.textContent = 'Remove';
        button.classList.add('remove');

        
        updateBanner(sku, price, imageUrl);



    }
}

function updateBanner(sku, price, imageUrl) {
        $('.col-banner').append('<img src="' + imageUrl + '">');
        $('.price-banner').append(price);
        $('.col-banner').data("sku",sku);
    }

function resetBanner() {
        $('.col-banner').html('Choose add-ons and services to create your bundle, or say “None.”');
        $('.price-banner').html('EUR 169');
 
    }


document.getElementById('bundleCard').addEventListener('click', function() {
        var bundleItems = document.querySelectorAll('col-banner');
        bundleItems.forEach(function(item) {
            item.remove();
        });
    });

    document.getElementById('bundleCard').addEventListener('click', function() {
        resetBanner();
    });



        var popupLink = document.querySelectorAll('.popup-link');
        var popupWindow = document.getElementById("popup-window");
        var closeButton = document.getElementById("close-button");

        var myFuntion = function(){
            event.preventDefault();
          popupWindow.style.display = "block";   
        }
        for (var i = 0 ; i < popupLink.length; i++) {
        popupLink[i].addEventListener('click' , myFuntion , false ) ; 
}


        closeButton.addEventListener("click", function() {
          popupWindow.style.display = "none";
        });
      
</script>



<!-------------- qraphql starting ------------->
<style>

    .product-card {
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin: 10px;
        width: 250px;
        height: 400px;
        display: inline-block;
        background-color: #f0f0f0;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid rgb(23, 67, 156);
        padding: 5px;
        align-items: center;
    }
    
    .imgc{
        display: flex;
        min-width:100px;align-items: center;
        justify-content: center;
    }
    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    }

    .product-card h4 {
        font-size: 18px;
        margin-top: 0;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .product-card p {
        margin: 0;
        font-size: 16px;
    }

    .product-card p.price {
        font-weight: bolder;
    }
    .btn-q1{
        background: linear-gradient(270deg, #9600FF 1.67%, #AEBAF8 96.39%);
            border: none;
            color: rgb(255, 255, 255);
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            width: 200px;
            justify-content: end;

    }


    .popup-content{
    
            position: fixed;
            width: 300px;
            height: 200px;
            background: white;
            border: 1px solid black;
            padding: 10px;
            margin: auto;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 10;
            display: none;           
    }

</style>


<script>
    fetch('/graphql', {
      method: 'POST',
      credentials: 'same-origin',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer {{ settings.storefront_api.token }}' 
      },
      body: JSON.stringify({
        query: `query newProducts{
    site{
      newestProducts{
        edges{
          node{
            addToCartUrl
            images{
                edges{
                node{
                    urlOriginal
              }
            }
          }
            sku
            name
            customFields{
              edges{
                node{
                  value
                  name
                }
                
              }
            }
            entityId
            prices{
              basePrice{
                currencyCode
                value
              }
            }
          }
        }
      }
    }
  }`
      })
    })
    .then(res => res.json())
    .then(data => {

    const newestProducts = data.data.site.newestProducts.edges;
    console.log("hiii",newestProducts);
 
  
    const productCardsHTML = newestProducts.map(product => `
    <div class="row product-card">
    <div class="small-12 medium-6 large-3 column">
    <h4>${product.node.name}</h4>
    <img class="imgc" src="${product.node.images.edges[0].node.urlOriginal}"></img>
    <p>${product.node.prices.basePrice.currencyCode} ${product.node.prices.basePrice.value}</p>
    <a href="/cart.php?action=add&product_id=${product.node.entityId}"><button class="btn-q1">ADD</button></a> 
 

    </div>
    </div>
    `).join('');

    document.getElementById('productCards').innerHTML = productCardsHTML;
    })
    .catch(error => console.error(error));
// const jsContext = JSON.parse({{ jsContext }});
// console.log("hyyyyyyy",jsContext);
</script>
<!--------------- end of graphql section -------------->
    <div id="productCards">   
    </div>

{{/partial}}
{{> layout/base}}



{{inject "myProductName" product.title}}